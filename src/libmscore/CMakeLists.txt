# SPDX-License-Identifier: GPL-3.0-only
# MuseScore-CLA-applies
#
# MuseScore
# Music Composition & Notation
#
# Copyright (C) 2021 MuseScore BVBA and others
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License version 3 as
# published by the Free Software Foundation.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <https://www.gnu.org/licenses/>.

set(MODULE libmscore)

set(MODULE_SRC
    accidental.cpp
    accidental.h
    ambitus.cpp
    ambitus.h
    arpeggio.cpp
    arpeggio.h
    articulation.cpp
    articulation.h
    audio.cpp
    audio.h
    bagpembell.cpp
    bagpembell.h
    barline.cpp
    barline.h
    beam.cpp
    beam.h
    bend.cpp
    bend.h
    box.cpp
    box.h
    bracket.cpp
    bracket.h
    bracketItem.cpp
    bracketItem.h
    breath.cpp
    breath.h
    bsp.cpp
    bsp.h
    bsymbol.cpp
    bsymbol.h
    changeMap.cpp
    changeMap.h
    check.cpp
    chord.cpp
    chord.h
    chordline.cpp
    chordline.h
    chordlist.cpp
    chordlist.h
    chordrest.cpp
    chordrest.h
    clef.cpp
    clef.h
    cleflist.cpp
    cleflist.h
    cmd.cpp
    connector.cpp
    connector.h
    drumset.cpp
    drumset.h
    duration.cpp
    duration.h
    durationtype.cpp
    durationtype.h
    dynamic.cpp
    dynamic.h
    dynamichairpingroup.cpp
    dynamichairpingroup.h
    easeInOut.cpp
    easeInOut.h
    edit.cpp
    element.cpp
    elementgroup.cpp
    elementgroup.h
    element.h
    elementmap.cpp
    elementmap.h
    excerpt.cpp
    excerpt.h
    fermata.cpp
    fermata.h
    fifo.cpp
    fifo.h
    figuredbass.cpp
    figuredbass.h
    fingering.cpp
    fingering.h
    fraction.h
    fret.cpp
    fret.h
    glissando.cpp
    glissando.h
    groups.cpp
    groups.h
    hairpin.cpp
    hairpin.h
    harmony.cpp
    harmony.h
    hook.cpp
    hook.h
    icon.cpp
    icon.h
    image.cpp
    image.h
    imageStore.cpp
    imageStore.h
    iname.cpp
    iname.h
    input.cpp
    input.h
    instrchange.cpp
    instrchange.h
    instrtemplate.cpp
    instrtemplate.h
    instrument.cpp
    instrument.h
    interval.cpp
    interval.h
    joinMeasure.cpp
    jump.cpp
    jump.h
    key.cpp
    key.h
    keylist.cpp
    keylist.h
    keysig.cpp
    keysig.h
    lasso.cpp
    lasso.h
    layoutbreak.cpp
    layoutbreak.h
    layout.cpp
    layout.h
    layoutlinear.cpp
    ledgerline.cpp
    ledgerline.h
    letring.cpp
    letring.h
    line.cpp
    line.h
    location.cpp
    location.h
    lyrics.cpp
    lyrics.h
    lyricsline.cpp
    marker.cpp
    marker.h
    mcursor.cpp
    mcursor.h
    measurebase.cpp
    measurebase.h
    measure.cpp
    measure.h
    measurenumber.cpp
    measurenumber.h
    measurenumberbase.cpp
    measurenumberbase.h
    measurerepeat.cpp
    measurerepeat.h
    midimapping.cpp
    mmrest.cpp
    mmrest.h
    mmrestrange.cpp
    mmrestrange.h
    mscore.cpp
    mscore.h
    mscoreview.cpp
    mscoreview.h
    musescoreCore.h
    navigate.cpp
    navigate.h
    note.cpp
    notedot.cpp
    notedot.h
    noteentry.cpp
    noteevent.cpp
    noteevent.h
    note.h
    noteline.cpp
    noteline.h
    notifier.hpp
    ossia.cpp
    ossia.h
    ottava.cpp
    ottava.h
    page.cpp
    page.h
    palmmute.cpp
    palmmute.h
    part.cpp
    part.h
    paste.cpp
    pedal.cpp
    pedal.h
    pitch.cpp
    pitch.h
    pitchadjuster.cpp
    pitchadjuster.h
    pitchspelling.cpp
    pitchspelling.h
    pitchvalue.h
    pos.cpp
    pos.h
    preferences.cpp
    preferences.h
    property.cpp
    property.h
    range.cpp
    range.h
    read114.cpp
    read206.cpp
    read206.h
    read302.cpp
    realizedharmony.cpp
    realizedharmony.h
    rehearsalmark.cpp
    rehearsalmark.h
    rendermidi.cpp
    rendermidi.h
    repeatlist.cpp
    repeatlist.h
    rest.cpp
    rest.h
    revisions.cpp
    revisions.h
    score.cpp
    scorediff.cpp
    scorediff.h
    scoreElement.cpp
    scoreElement.h
    scorefile.cpp
    scoreOrder.cpp
    scoreOrder.h
    score.h
    scoretree.cpp
    segment.cpp
    segment.h
    segmentlist.cpp
    segmentlist.h
    select.cpp
    select.h
    sequencer.h
    shadownote.cpp
    shadownote.h
    shape.cpp
    shape.h
    sig.cpp
    sig.h
    skyline.cpp
    skyline.h
    slur.cpp
    slur.h
    slurtie.cpp
    slurtie.h
    spacer.cpp
    spacer.h
    spanner.cpp
    spanner.h
    spannermap.cpp
    spannermap.h
    spatium.h
    splitMeasure.cpp
    staff.cpp
    staff.h
    stafflines.cpp
    stafflines.h
    staffstate.cpp
    staffstate.h
    stafftextbase.cpp
    stafftextbase.h
    stafftext.cpp
    stafftext.h
    stafftypechange.cpp
    stafftypechange.h
    stafftype.cpp
    stafftype.h
    stafftypelist.cpp
    stafftypelist.h
    stem.cpp
    stem.h
    stemslash.cpp
    stemslash.h
    sticking.cpp
    sticking.h
    stringdata.cpp
    stringdata.h
    style.cpp
    style.h
    symbol.cpp
    symbol.h
    symid.h
    sym.cpp
    sym.h
    symnames.cpp
    synthesizerstate.cpp
    synthesizerstate.h
    system.cpp
    systemdivider.cpp
    systemdivider.h
    system.h
    systemtext.cpp
    systemtext.h
    tempo.cpp
    tempo.h
    tempotext.cpp
    tempotext.h
    textbase.cpp
    textbase.h
    text.cpp
    textedit.cpp
    textedit.h
    textframe.cpp
    textframe.h
    text.h
    textlinebase.cpp
    textlinebase.h
    textline.cpp
    textline.h
    tie.cpp
    tie.h
    tiemap.h
    timesig.cpp
    timesig.h
    transpose.cpp
    tremolobar.cpp
    tremolobar.h
    tremolo.cpp
    tremolo.h
    trill.cpp
    trill.h
    tuplet.cpp
    tuplet.h
    tupletmap.h
    types.h
    undo.cpp
    undo.h
    unrollrepeats.cpp
    utils.cpp
    utils.h
    vibrato.cpp
    vibrato.h
    volta.cpp
    volta.h
    xml.h
    xmlreader.cpp
    xmlwriter.cpp
    draw/painter.cpp
    draw/painter.h
    draw/ipaintprovider.h
    draw/drawtypes.h
    draw/qpainterprovider.cpp
    draw/qpainterprovider.h
    draw/bufferedpaintprovider.cpp
    draw/bufferedpaintprovider.h
    draw/drawlogger.cpp
    draw/drawlogger.h
    draw/drawjson.cpp
    draw/drawjson.h
    draw/drawcomp.cpp
    draw/drawcomp.h
    )

set(MODULE_INCLUDE
    ${PROJECT_SOURCE_DIR}/thirdparty/dtl
    ${Qt5Gui_PRIVATE_INCLUDE_DIRS} # for drawbufferjson.cpp
    )

set(FREETYPE_LIB )
if (USE_SYSTEM_FREETYPE)
     set(MODULE_LINK freetype)
else (USE_SYSTEM_FREETYPE)
     set(MODULE_LINK mscore_freetype)
endif (USE_SYSTEM_FREETYPE)

set(MODULE_LINK ${MODULE_LINK} midi_old qzip)

set(MODULE_USE_UNITY_NONE ON) # not work
include(${PROJECT_SOURCE_DIR}/build/module.cmake)

set_property(TARGET ${MODULE} APPEND PROPERTY AUTOMOC_MACRO_NAMES "BEGIN_QT_REGISTERED_ENUM")
