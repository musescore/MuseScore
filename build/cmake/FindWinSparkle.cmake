find_path(WINSPARKLE_INCLUDE_DIR winsparkle.h PATHS ${PROJECT_SOURCE_DIR}/dependencies/include/winsparkle;)

set(CMAKE_FIND_LIBRARY_SUFFIXES ".lib")

find_library(WINSPARKLE_LIBRARY NAMES winsparkle PATHS ${DEPENDENCIES_DIR} NO_DEFAULT_PATH)

if (MINGW)
  set(WINSPARKLE_INCLUDE_DIR "")
  set(WINSPARKLE_LIBRARY "")
endif(MINGW)

message(STATUS ${WINSPARKLE_LIBRARY})

if (WINSPARKLE_INCLUDE_DIR AND WINSPARKLE_LIBRARY)
      set(WINSPARKLE_FOUND TRUE)
endif (WINSPARKLE_INCLUDE_DIR AND WINSPARKLE_LIBRARY)

if (WINSPARKLE_FOUND)
      message (STATUS "Found WinSparkle: ${WINSPARKLE_LIBRARY}")
else (WINSPARKLE_FOUND)
      message (FATAL_ERROR "Could not find: WinSparkle")
endif (WINSPARKLE_FOUND)
